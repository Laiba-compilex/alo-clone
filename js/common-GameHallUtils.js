"undefined"==typeof GameHallUtils&&(GameHallUtils={}),function(){let e=new IntersectionObserver(function(e,t){for(let a of e)if(a.isIntersecting){const e=a.target;e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),t.unobserve(e)}});function t(){return"undefined"==typeof PageConfig?"":PageConfig.gameHallType}GameHallUtils.initSwiperCarouselObserver=function(e){Array.isArray(e)?e.forEach(e=>{if(e&&e.swiper&&e.swiper.autoplay){new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting?e.swiper.autoplay.start():e.swiper.autoplay.stop()})},{threshold:.5}).observe(e)}}):console.log("initSwiperCarouselObserver: swiperEls is not an array")},GameHallUtils.fillBannerSlidesToMinimum=function(e,t){if(!(e instanceof HTMLElement))return;let a=e.querySelector(".swiper-wrapper");if(!(a instanceof HTMLElement))return void console.log("fillBannerSlidesToMinimum: .swiper-wrapper not found.");let l=a.querySelectorAll(".swiper-slide");if(!l||0===l.length)return void console.log("fillBannerSlidesToMinimum: .swiper-slide not found.");let i=l.length;for(;i<t;)l.forEach(e=>{const t=e.cloneNode(!0);a.appendChild(t)}),l=a.querySelectorAll(".swiper-slide"),i=l.length},GameHallUtils.getGameDisplayName=function(e){return"cn"==PageConfig.lang&&e.gameNameCn?e.gameNameCn:"vn"==PageConfig.lang&&e.gameNameVn?e.gameNameVn:"th"===PageConfig.lang&&e.gameNameTh?e.gameNameTh:e.gameNameEn},GameHallUtils.setGameInfoToBtn=function(e,t){e.setAttribute("game_code",t.gameCode),e.setAttribute("platform",t.platform),e.setAttribute("gameType",t.gameType),e.setAttribute("game_key",t.gameKey),e.setAttribute("rtp",t.rtp||0),e.setAttribute("game_name",GameHallUtils.getGameDisplayName(t))},GameHallUtils.pushCacheGames=function(e,t){e.push(GameHallUtils.buildCacheKey(t))},GameHallUtils.buildCacheKey=function(e){return e.platform+","+e.gameCode},GameHallUtils.getImgUrl=function(e,t){if(GameHallUtils.isOriginalPlatform(e.platform))return GameHallUtils.getOriginalImgUrl(e);if(e.tableCode)return e.imgUrl.includes("/FIRSTPERSON")?GameHallUtils.isBS()?e.imgUrl.replace(".webp","-w.webp"):e.imgUrl.replace(".webp",PageConfig.imgStyleSuffix+".webp"):e.imgUrl;if(t&&PageConfig.entryGameTypeArray.includes(e.gameType))return void 0!==PageConfig.imgStyleSuffix&&(e.imgUrl=e.imgUrl.replace(".webp",PageConfig.imgStyleSuffix+".webp")),e.imgUrl;if(PageConfig.entryGameTypeArray.includes(e.gameType)){let t="";return t=GameHallUtils.isNEW()?PageConfig.isMobile?"-POPULAR.webp":"-PC.webp":GameHallUtils.isOLD()?PageConfig.isMobile?"-CLASSIC.webp":"-PC.webp":PageConfig.imgSuffix+".webp",t&&(e.imgUrl=e.imgUrl.replace(".webp",t)),"TMT"===PageConfig.brandName?e.imgUrl.replace(".webp","-TMT.webp"):"MWGAMING"===PageConfig.brandName?e.imgUrl.replace(".webp","-MWGAMING.webp"):"TELE789"===PageConfig.brandName?e.imgUrl.replace(".webp","-TELE789.webp"):"WINBDT"!==PageConfig.brandName&&"WINTKLIVE"!==PageConfig.brandName||"CRICKET"!==e.platform?e.imgUrl:e.imgUrl.replace(".webp","-WINBDT.webp")}return PageConfig.specialImgPlatforms.includes(e.platform)&&""!=PageConfig.imgPrefix?e.imgUrl.replace(".webp",PageConfig.imgPrefix+".webp"):void 0!==PageConfig.imgStyleSuffix?e.imgUrl.replace(".webp",PageConfig.imgStyleSuffix+".webp"):e.imgUrl},GameHallUtils.getDefaultImgUrl=function(e){return e.imgUrl},GameHallUtils.getEntryGameEventImgUrl=function(e){return PageConfig.imagePrefix+"/theme/images/gameIcon/"+e.platform+"/EVENT/"+e.platform+".webp?t="+PageConfig.timestamp},GameHallUtils.getOriginalImgUrl=function(e){let t=PageConfig.imagePrefix+"/theme/images/gameIcon/"+e.platform+"/ORIGINAL/"+e.gameKey;return void 0!==PageConfig.imgStyleSuffix&&(t+=PageConfig.imgStyleSuffix),t+="-"+PageConfig.brandName+".webp?t="+PageConfig.timestamp,t},GameHallUtils.getBrandExclusiveImgUrl=function(e,t,a){let l=PageConfig.imagePrefix+"/theme/images/gameIcon/"+e.platform+"/BRANDING/";return PageConfig.entryGameTypeArray.includes(e.gameType)?l+=e.platform:l+=e.gameKey,a?l+=a:""!=PageConfig.imgStyleSuffix&&(l+=PageConfig.imgStyleSuffix),l+="-"+t+".webp?t="+PageConfig.timestamp,l},GameHallUtils.getTableDisplayName=function(e){return"cn"==PageConfig.lang&&e.tableNameCn?e.tableNameCn:"vn"==PageConfig.lang&&e.tableNameVn?e.tableNameVn:e.tableNameEn},GameHallUtils.displayByBonusLimit=function(e){GameHallUtils.checkGameRestrict(e)?(e.classList.add("show-blocked"),e.classList.remove("show-play")):(e.classList.add("show-play"),e.classList.remove("show-blocked"))},GameHallUtils.checkGameRestrict=function(e){if(PageConfig.currentTurnover<=0)return!1;if(!PageConfig.isOnlyPlayBonusGames)return!1;if(!e)return!1;const t=e.getAttribute("platform"),a=(e.getAttribute("gameType")+"").toUpperCase();return!(a?a.split(",").map(e=>e.trim()):[]).some(e=>GameHallUtils.isAllowCalcTurnover(t,e))},GameHallUtils.scrollToAnchor=function(e,t){var a=1e3,l="HOME",i=document.getElementById(l+"GameMenuTab"),n=document.getElementById("homeGameMenuTab");i&&(i.classList.contains("active")?a=0:GameHallHandler.switchGameTypePage(l,"")),n&&(n.classList.contains("on")?a=0:GameHallHandler.switchGamePage("home")),setTimeout(function(){let a=document.getElementById(e),l=$j("#turnoverRequiredTxt").height()+$j("#reserveBalanceDiv").height()==0?0:$j(".user-balance-msg").height();void 0===l&&(l=0);let i=a.getBoundingClientRect().top-t-l-$j("#anchorWrapper").outerHeight(!0);$j("#gameHallChallengeDesc").hasClass("d-none")||($j("#gameHallBody").hasClass("fix-top")?i-=72:i-=148),window.scrollBy({top:i,left:0,behavior:"smooth"})},a)},GameHallUtils.isAllowCalcTurnover=(e,t)=>0==PageConfig.bonusPlatformLimits.length&&0==PageConfig.bonusGameTypeLimits.length||!(PageConfig.bonusPlatformLimits.length>0&&!PageConfig.bonusPlatformLimits.includes(e.toUpperCase()))&&!(PageConfig.bonusGameTypeLimits.length>0&&!PageConfig.bonusGameTypeLimits.includes(t.toUpperCase())),GameHallUtils.closeUserBalanceMsg=()=>{$j("body,#gameHall,#gameHallDiv,#gameHallBody").removeClass("show-limit-msg"),PageConfig.isShowUserBalanceMsg=!1},GameHallUtils.setPlatformImg=function(e,t,a){let l=document.createElement("img");if(GameHallUtils.isOriginalPlatform(a)){const e=PageConfig.imagePrefix+"/theme/images/src-common/PLATFORM-img/100x100/ORIGINAL/"+PageConfig.brandName+"-logo.webp";l.setAttribute("src",e),l.setAttribute("class","img-platform")}else{const e=PageConfig.imagePrefix+"/theme/images/src-common/PLATFORM-img/100x100/"+a+"-logo.webp";l.setAttribute("src",e),l.setAttribute("class","img-platform")}$j(e).find(t).prepend(l)},GameHallUtils.setPlatformAndNameImg=function(e,t,a){let l=document.createElement("img");if(GameHallUtils.isOriginalPlatform(a)){const e=PageConfig.imagePrefix+"/theme/images/src-common/PLATFORM-img/100x120/ORIGINAL/"+PageConfig.brandName+"-logo.webp";l.setAttribute("src",e)}else{const e=PageConfig.imagePrefix+"/theme/images/src-common/PLATFORM-img/100x120/"+a+"-logo.webp";l.setAttribute("src",e)}$j(e).find(t).prepend(l)},GameHallUtils.setExclusiveBrandImg=function(e,t){let a=document.createElement("img");a.setAttribute("src",PageConfig.logoImageUrl),$j(e).find(t).prepend(a)},GameHallUtils.openFooterIframe=function(e){PopupUtil.openModalIframe(PageConfig.popupFunctions.get(e))},GameHallUtils.openDownloadAppModal=function(e,t){$j("body").removeClass("show-download"),$j("#downloadAppFooter").hide(),e&&(t?PopupUtil.openModalIframe({url:t,frameId:e}):PopupUtil.openModal(`#${e}`))},GameHallUtils.showDownloadAppFooter=function(){$j("body").addClass("show-download"),$j("#downloadAppFooter").show()},GameHallUtils.closeDownloadAppFooter=function(){PageConfig.isShowDownloadApp=!1,PageConfig.closeDownloadAppFooter&&$j.ajax({async:!1,type:"POST",url:PageConfig.closeDownloadAppFooter,success:function(e){(null==e||$j.isEmptyObject(e)||e.error)&&console.log(e)}}),$j("body").removeClass("show-download"),$j("#downloadAppFooter").fadeOut(600)},GameHallUtils.destroyLiveChat=function(){window.LiveChatWidget&&window.LiveChatWidget.call("destroy")},GameHallUtils.generateLiveChat=function(){let e=document.getElementById("liveChatScript");if(e&&!document.getElementById("chat-widget-container")){let t=document.createElement("script");t.id="liveChatScript",t.innerHTML=e.innerHTML,e.remove(),document.body.appendChild(t)}},GameHallUtils.setLazyLoad=function(t){let a=t.querySelectorAll("img[data-src]");for(let t of a)e.observe(t)},GameHallUtils.openCurrencyChooser=()=>{JCache.get("#modalBalance").html(JCache.get("#balance").html()),JCache.get("#modalUsdtBalance").html(JCache.get("#usdtBalance").html()),JCache.get("#ubtcModalBalance").html(JCache.get("#ubtcBalance").html()),JCache.get("#usdtModalBalance").html(JCache.get("#usdtBalance").html()),PopupUtil.openModal("#modalCurrencyChooser")},GameHallUtils.clickCurrency=e=>{let t=$j(e).attr("currency");postAjax({url:PageConfig.chooseCurrencyUrl,data:{chosenCurrency:t},success:e=>{e.error?alert(e.error):t!=JCache.get("#currencyOpener").attr("currency")?window.location.reload():PopupUtil.closeModal("#modalCurrencyChooser")}})},GameHallUtils.buildPlatformStatusForGameEle=(e,t)=>{e.classList.add(PageConfig.platformStatus[t].statusClass),"show-play-msg"==PageConfig.platformStatus[t].statusClass&&e.safeSelector(".ul-gameIcon-box").insertAdjacentHTML("afterBegin",`<span class="show-msg" id="showMsgSpan">${PageConfig.platformStatus[t].message}</span>`)},GameHallUtils.bindGrabbingEffect=e=>{if(0==(e=$j(e)).length)return;let t=new Map;e.each((e,a)=>{let l=$j(a);l.on("mousedown",function(e){let i={startX:e.clientX,startScrollLeft:l.scrollLeft()};t.set(a,i),$j("body").css("cursor","grabbing")})}),$j(document).on("mousemove",function(e){for(let[a,l]of t.entries()){const t=e.clientX-l.startX;$j(a).scrollLeft(l.startScrollLeft-t)}}),$j(document).on("mouseup",function(e){t.clear(),$j("body").css("cursor","default")}),$j(document).on("mouseleave",function(e){t.clear(),$j("body").css("cursor","default")})},GameHallUtils.setPlatformDisplayName=function(e,t,a){let l=document.createElement("span");l.textContent=I18N.get("platform.name."+a),$j(e).find(t).prepend(l)},GameHallUtils.setBrandDisplayName=function(e,t){let a=document.createElement("span");a.textContent=PageConfig.brandDisplayName,$j(e).find(t).prepend(a)},GameHallUtils.slidingEffect=function(e,t,a){let l=$j(e),i=l.find(t),n=i.find(a);n.on("click",function(){n.removeClass("active"),$j(this).addClass("active")}),i.on("scroll",function(){GameHallUtils.manageIcons(i,l)}),setTimeout(()=>{i&&i.length>0&&GameHallUtils.manageIcons(i,l)},500),GameHallUtils.bindDraggingEvent(i)},GameHallUtils.initGameTabRender=function(e,t,a){t.on("click",function(){t.removeClass("active"),$j(this).addClass("active")}),e.on("scroll",function(){GameHallUtils.manageIcons(e,a)}),setTimeout(()=>{GameHallUtils.manageIcons(e,a)},500),GameHallUtils.bindDraggingEvent(e)},GameHallUtils.manageIcons=function(e,t){let a=e.scrollLeft(),l=e[0].scrollWidth-e.innerWidth()-20;t.toggleClass("left-active",a>20),t.toggleClass("right-active",a<l)},GameHallUtils.bindDraggingEvent=function(e){let t,a,l=!1,i=!1;e.on("mousedown",function(n){l=!0,i=!1,t=n.pageX,a=e.scrollLeft(),WindowEventUtil.stopEvent(n,!0,!0)}),$j(document).on("mouseup",function(e){l=!1,WindowEventUtil.stopEvent(e,!0,!0)}),e.on("mouseleave",function(e){l=!1,WindowEventUtil.stopEvent(e,!0,!0)}),e.on("mousemove",function(n){if(l){WindowEventUtil.stopEvent(n,!0,!0);const l=n.pageX-t;Math.abs(l)>=5&&(i=!0),e.scrollLeft(a-l)}});let n=e.get(0);n&&n.addEventListener("click",function(e){i&&(WindowEventUtil.stopEvent(e,!0,!0),i=!1)},!0)},GameHallUtils.isOLD=function(){return["OLD_GAMEHALL","OLD_GAMEHALL_TALL","OLD_GAMEHALL_WIDE"].includes(t())},GameHallUtils.isNEW=function(){return["NEW_GAMEHALL","NEW_GAMEHALL_TALL","NEW_GAMEHALL_WIDE"].includes(t())},GameHallUtils.isWOS=function(){return["WOS_GAMEHALL"].includes(t())},GameHallUtils.isR=function(){return["RWD_GAMEHALL_R","RWD_GAMEHALL_R_TALL","RWD_GAMEHALL_R_WIDE"].includes(t())},GameHallUtils.isL=function(){return["RWD_GAMEHALL_L","RWD_GAMEHALL_L_TALL","RWD_GAMEHALL_L_WIDE"].includes(t())},GameHallUtils.isW=function(){return["RWD_GAMEHALL_W","RWD_GAMEHALL_W_TALL","RWD_GAMEHALL_W_WIDE"].includes(t())},GameHallUtils.isP=function(){return["RWD_GAMEHALL_P","RWD_GAMEHALL_P_TALL","RWD_GAMEHALL_P_WIDE"].includes(t())},GameHallUtils.isRWD=function(){return GameHallUtils.isR()||GameHallUtils.isW()||GameHallUtils.isL()||GameHallUtils.isP()},GameHallUtils.isBS=function(){return["BS_GAMEHALL"].includes(t())},GameHallUtils.isWL=function(){return["WL_GAMEHALL","WL_GAMEHALL_TALL","WL_GAMEHALL_WIDE"].includes(t())},GameHallUtils.isEZ=function(){return["EZ_GAMEHALL","EZ_GAMEHALL_TALL","EZ_GAMEHALL_WIDE"].includes(t())},GameHallUtils.isWide=function(){return t().endsWith("_WIDE")},GameHallUtils.isWalletCurrency=function(e,t){return!!e&&e.includes(t)},GameHallUtils.setBonusEventClass=function(e,t){let a=$j(e),l=PageConfig.showEntryGameType.includes(t.gameType);a.toggleClass("entry_game",l)},GameHallUtils.modalBounce=function(){$j("#modal-previousPage").addClass("modal-bounce"),setTimeout(function(){$j("#modal-previousPage").removeClass("modal-bounce")},1e3)},GameHallUtils.isSameOrigin=function(e){try{e.location.href;return!0}catch(e){return!1}},GameHallUtils.wideStyleSuffix="-w",GameHallUtils.tallStyleSuffix="-t",GameHallUtils.squareStyleSuffix="",GameHallUtils.getRowsPerView=function(e,t){return document.querySelectorAll(`${e} .swiper-slide`).length<=t?1:2},GameHallUtils.toggleSwiperButton=function(e){e.navigation.prevEl.style.display=e.isBeginning?"none":"block",e.navigation.nextEl.style.display=e.isEnd?"none":"block"},GameHallUtils.isOriginalPlatform=function(e){return["TEQUITY"].includes(e)}}();